<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on Ryuichiro Suzuki</title>
        <link>https://ryuichirosuzuki.com/posts/</link>
        <description>Recent content in Posts on Ryuichiro Suzuki</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Thu, 02 Feb 2023 12:11:10 +0200</lastBuildDate>
        <atom:link href="https://ryuichirosuzuki.com/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>ケープタウンに行った話🇿🇦</title>
            <link>https://ryuichirosuzuki.com/posts/south-africa-trip/</link>
            <pubDate>Thu, 02 Feb 2023 12:11:10 +0200</pubDate>
            
            <guid>https://ryuichirosuzuki.com/posts/south-africa-trip/</guid>
            <description>ことの発端 時々働いているコーディングブートキャンプのケープタウン校が、直近で先生を探していると Slack に流れてきたので、どうせ無職みたいなもんだし、やってみようと手を上げました。本当にすぐに先生がほしいらしく、2 週間後に始まるクラスの最初の 3 週間のコマを受諾しました。フライトは会社持ち、宿泊はマネージャーの実家というなんとも自転車操業っぷり満載ですが、お金をもらって南アフリカに行けるなら、何でも良いやという軽い気持ちで行くことにしました。
追記: 3 週間先生をやって、一回バルセロナに帰ったものの、また先生が必要だということで、更に 3 週間後くらいにケープタウンに戻ることになりました。この文章をダラダラ書いている途中で、またケープタウンに来たので、その時の経験もまとめて書きました。ケープタウンに合計 1 ヶ月ちょいくらいは居たことになりますね。
旅の準備。というかブラックフライデーで買ったカバンの自慢。 以前、マドリードに仕事に行くときに、もっと大きくて利便性の高いリュックが欲しい！とずっと思っていました。探しているうちに、Tropicfeel の Shell というかばんが良さそうと目をつけ、ブラックフライデーのセールもあり、衝動買いしました。結局、マドリードの仕事までには間に合わず、今回がこのかばんとの旅行デビューになります。1 月は、南アフリカではもちろん夏なので、持っていく服自体は少なめでした。ただ、一緒に買った服のコンプレッサー兼ミニクローゼットを使ったり、カバンの下に隠れている靴収納袋など、めちゃくちゃ旅行に便利なカバンだなと、とても感心しました。買ってよかった。-&amp;gt; リファーラルリンク。このカバンひとつで 1 週間分の服と、サンダル、ラップトップもろもろを持っていけるので、とても便利です。最近新バージョンが出て、それもほしい&amp;hellip;
到着。そして衝撃 カタールを経由して、ほぼ一日かけてケープタウンに到着。マネージャーが車で迎えに来てくれました。最初に驚いたのは、彼が裸足だということ。速攻で、「南アフリカの人はみんな裸足なのか？」とググりました。結果、子供のときは結構みんな裸足生活らしく、稀に大人になっても裸足の人がいるらしいです。確かに、たまに裸足の子供を何人か見かける機会がありました。私も、つられたのか、最終的に裸足でちょっと外を歩くのに抵抗がなくなりました。意外と開放的。
他にも、とりあえずスケールにびっくりしました。バルセロナも一つの街に海と山があると謳っていますが、ケープタウンはそれを 20 倍にしたスケール感でした。テーブル・マウンテンはとてつもなく大きしい、ビーチも終りが見えないし、波も大きしい、行く先々で景色の綺麗さに驚かされました。
良かったところ ほとんど仕事ばっかしてましたが、そんな話してもしょうがないので、ケープタウンの良かったところを書いていきます。
サーフィン 🏄‍♂️ サーフィンデビューしました。水泳をやっていたので、ベタベタするし泳ぎにくい海はあんまり好きではありませんでした。でも、ケープタウンのビーチは桁違いでキレイだし、でかい。真夏ということもあったので、初日からマネージャーに勧められてサーフレッスンを取ることにしました。行ったところは、一番サーフィンしやすいビーチだという Muizenberg。Surf Emporiumというビーチの目の前のお店でレッスンを予約しました。その日は偶然空いてましたが、その後レッスンを取ろうとしたら、当日はいっぱいだったりと、メジャーなところらしいので、事前予約をおすすめします。レッスン自体は 1 on 1 でウェットスーツとボードレンタルを含めて、90 分で R480(大体 3500 円くらい)。最初はもちろん難しかったですが、徐々にコツを掴んで、何回か立ち上がって、波に乗ってる気分を味わえました。
その後も、サーフィンしたい欲が出てきて、合計で 1 ヶ月半程居た中で、5,6 回はサーフィンに行きました。もっと小さい頃から触れておきたかったですね。
Surf Emporium のレッスンも悪くなかったですが、その後紹介してもらった Bennett というお兄さんが個人でやってる Soft Surf School というスクールで、二回レッスンを受けました。友達と一緒に行けば、Surf Emporium よりもお得にグループレッスンが受けられますし、何より教え方がとても上手でした。レッスンの日の波が良かったのもありますが、上達をすぐに感じられるようなレッスンでした。レッスンをしながら Go Pro で動画を撮影してくれて、動画を後で送ってくれるという細かいサービスがいいところもおすすめです。
Your browser does not support the video tag. クラフトジン 🥃 今まで、ジンを飲んでこなかったのですが、ケープタウンはクラフトジンが盛んらしく、勧められて飲んでいるうちに好きになりました。町中にいくつか蒸留所があり、行く機会はありませんでしたが、見学やテイスティングをしているところもあるそうです。スーパーなんかに行くと、トニックだけで何種類も置いてあったり、ジンに対する熱が伝わってきました。</description>
            <content type="html"><![CDATA[

<img src="https://res.cloudinary.com/scooter-scooter/image/upload/Portfolio/cape-town/header.jpg"
     class="rounded center" 
    alt="ocean and a mountain" >



<h2 id="ことの発端">ことの発端</h2>
<p>時々働いているコーディングブートキャンプのケープタウン校が、直近で先生を探していると Slack に流れてきたので、どうせ無職みたいなもんだし、やってみようと手を上げました。本当にすぐに先生がほしいらしく、2 週間後に始まるクラスの最初の 3 週間のコマを受諾しました。フライトは会社持ち、宿泊はマネージャーの実家というなんとも自転車操業っぷり満載ですが、お金をもらって南アフリカに行けるなら、何でも良いやという軽い気持ちで行くことにしました。</p>
<p>追記: 3 週間先生をやって、一回バルセロナに帰ったものの、また先生が必要だということで、更に 3 週間後くらいにケープタウンに戻ることになりました。この文章をダラダラ書いている途中で、またケープタウンに来たので、その時の経験もまとめて書きました。ケープタウンに合計 1 ヶ月ちょいくらいは居たことになりますね。</p>
<h2 id="旅の準備というかブラックフライデーで買ったカバンの自慢">旅の準備。というかブラックフライデーで買ったカバンの自慢。</h2>
<p>以前、マドリードに仕事に行くときに、もっと大きくて利便性の高いリュックが欲しい！とずっと思っていました。探しているうちに、Tropicfeel の Shell というかばんが良さそうと目をつけ、ブラックフライデーのセールもあり、衝動買いしました。結局、マドリードの仕事までには間に合わず、今回がこのかばんとの旅行デビューになります。1 月は、南アフリカではもちろん夏なので、持っていく服自体は少なめでした。ただ、一緒に買った服のコンプレッサー兼ミニクローゼットを使ったり、カバンの下に隠れている靴収納袋など、めちゃくちゃ旅行に便利なカバンだなと、とても感心しました。買ってよかった。-&gt; <a href="https://nation.tropicfeel.com/s/ryuichiro.s">リファーラルリンク</a>。このカバンひとつで 1 週間分の服と、サンダル、ラップトップもろもろを持っていけるので、とても便利です。最近新バージョンが出て、それもほしい&hellip;</p>


<img src="https://res.cloudinary.com/scooter-scooter/image/upload/Portfolio/cape-town/tropicfeel.jpg"
     class="rounded center" 
    alt="tropicfeel shell" >



<h2 id="到着そして衝撃">到着。そして衝撃</h2>
<p>カタールを経由して、ほぼ一日かけてケープタウンに到着。マネージャーが車で迎えに来てくれました。最初に驚いたのは、彼が裸足だということ。速攻で、「南アフリカの人はみんな裸足なのか？」とググりました。結果、子供のときは結構みんな裸足生活らしく、稀に大人になっても裸足の人がいるらしいです。確かに、たまに裸足の子供を何人か見かける機会がありました。私も、つられたのか、最終的に裸足でちょっと外を歩くのに抵抗がなくなりました。意外と開放的。</p>


<img src="https://res.cloudinary.com/scooter-scooter/image/upload/Portfolio/cape-town/ryan-bare-foot.jpg"
     class="rounded center" 
    alt="ryan bare foot" >



<p>他にも、とりあえずスケールにびっくりしました。バルセロナも一つの街に海と山があると謳っていますが、ケープタウンはそれを 20 倍にしたスケール感でした。テーブル・マウンテンはとてつもなく大きしい、ビーチも終りが見えないし、波も大きしい、行く先々で景色の綺麗さに驚かされました。</p>
<h2 id="良かったところ">良かったところ</h2>
<p>ほとんど仕事ばっかしてましたが、そんな話してもしょうがないので、ケープタウンの良かったところを書いていきます。</p>
<h3 id="サーフィン-">サーフィン 🏄‍♂️</h3>
<p>サーフィンデビューしました。水泳をやっていたので、ベタベタするし泳ぎにくい海はあんまり好きではありませんでした。でも、ケープタウンのビーチは桁違いでキレイだし、でかい。真夏ということもあったので、初日からマネージャーに勧められてサーフレッスンを取ることにしました。行ったところは、一番サーフィンしやすいビーチだという Muizenberg。<a href="https://surfemporium.co.za/">Surf Emporium</a>というビーチの目の前のお店でレッスンを予約しました。その日は偶然空いてましたが、その後レッスンを取ろうとしたら、当日はいっぱいだったりと、メジャーなところらしいので、事前予約をおすすめします。レッスン自体は 1 on 1 でウェットスーツとボードレンタルを含めて、90 分で R480(大体 3500 円くらい)。最初はもちろん難しかったですが、徐々にコツを掴んで、何回か立ち上がって、波に乗ってる気分を味わえました。</p>
<p>その後も、サーフィンしたい欲が出てきて、合計で 1 ヶ月半程居た中で、5,6 回はサーフィンに行きました。もっと小さい頃から触れておきたかったですね。</p>
<p>Surf Emporium のレッスンも悪くなかったですが、その後紹介してもらった Bennett というお兄さんが個人でやってる <a href="https://www.softsurfschool.com/">Soft Surf School</a> というスクールで、二回レッスンを受けました。友達と一緒に行けば、Surf Emporium よりもお得にグループレッスンが受けられますし、何より教え方がとても上手でした。レッスンの日の波が良かったのもありますが、上達をすぐに感じられるようなレッスンでした。レッスンをしながら Go Pro で動画を撮影してくれて、動画を後で送ってくれるという細かいサービスがいいところもおすすめです。</p>


<video controls  class="rounded center"
     alt="scooter surfing in muizenberg" >
    <source
        src="https://res.cloudinary.com/scooter-scooter/video/upload/Portfolio/cape-town/surf.mp4"
        type="video/mp4">
    Your browser does not support the video tag.
</video>



<h3 id="クラフトジン-">クラフトジン 🥃</h3>
<p>今まで、ジンを飲んでこなかったのですが、ケープタウンはクラフトジンが盛んらしく、勧められて飲んでいるうちに好きになりました。町中にいくつか蒸留所があり、行く機会はありませんでしたが、見学やテイスティングをしているところもあるそうです。スーパーなんかに行くと、トニックだけで何種類も置いてあったり、ジンに対する熱が伝わってきました。</p>
<p>個人的に楽しかったのは、Water Front という地区にある Gin Emporium というお店と、CBD (Central Business District) にある The Gin Bar が良かったです。前者は、テーブルマウンテンを眺めながら、ときには港に住んでいるアザラシを見ながら、ジンを楽しむことができます。後者は名の通りジンをたくさん用意しているバーで、数え切れないほどの国内外のジンを揃えています。内装もおしゃれで、良かったです。</p>


<img src="https://res.cloudinary.com/scooter-scooter/image/upload/Portfolio/cape-town/gin.jpg"
     class="rounded center" 
    alt="gin emporium" >



<h3 id="churchhaven-">Churchhaven 🦩</h3>
<p>お金持ちのマネージャーの実家が、ケープタウンから北に車で 1 時間半のところにある Churchhaven という村に別荘を持っているということで、週末に連れて行ってもらいました。West Coast National Park の中に位置する漁村で、半島によって潟になっているところに位置しています。筆舌に尽くしがたい程、静かで綺麗なところでした。水や電気は通っていないので、雨水や海の水を貯めたものを使用し、電気も太陽光発電で充電したバッテリーから引っ張ってくるような生活が当たり前だそうです。夜は庭でバーベキューをして、きれいな星空を眺めながらワインを飲んだりしました。この場所は所謂 Gated community のようなところなので、物件を所持していない場合の出入りがどれほど簡単なのかはわかりかねますが、聞いたところによると、Airbnb も何軒かあるらしいです。あと、村から離れたところにボートハウスも貸し出しをしているそうです。ゆっくりとした週末を過ごしたい場合は、とてもおすすめです。</p>


<img src="https://res.cloudinary.com/scooter-scooter/image/upload/Portfolio/cape-town/church-haven.jpg"
     class="rounded center" 
    alt="church haven" >



<hr>


<img src="https://res.cloudinary.com/scooter-scooter/image/upload/Portfolio/cape-town/church-haven-morning.jpg"
     class="rounded center" 
    alt="church haven morning" >



<hr>


<img src="https://res.cloudinary.com/scooter-scooter/image/upload/Portfolio/cape-town/church-haven-night.jpg"
     class="rounded center" 
    alt="church haven morning" >



<h3 id="ビルトング-">ビルトング 🐮</h3>
<p>これは来る前から食べたかったもので、ビーフジャーキーのようなんですが、それよりも更に美味しいお肉料理です。南アフリカ出身のコメディアン、Trevor Noah が、どこかで見た動画で、ビーフジャーキーとは比べ物にならないくらいうまいと言っていたので、それ以降、ずっと食べたいと思っていました。南アフリカではガソリンスタンド、スーパー、レストランなど、どこにでも売っていて、簡単に手に入れることがで来ます。お肉も、ビーフが一番見かけますが、ダチョウ、オリックス、シカなど、いろんな種類のお肉でも楽しめます。個人的に一番良かったのはオリックス(Gemsbok)です。カッラカラに乾いたやつと、少し湿気が残っているやつと、味付けが違ったりと、色々と試してみるといいと思います。あと、一緒によく売ってあるのが Droëwors というサラミのような肉料理です。これも肉を味付けして、加工して乾かしたという点では一緒ですが、味に深みがあって、これもおすすめです。</p>
<h3 id="古着-">古着 👕</h3>
<p>あまりファッショナブルな人間ではありませんが、泊まっていた Observatory という街にたくさん古着屋さんがあったので、柄にもなく柄物のシャツや短パンをいくつか買いました。安いし、たくさんあるし、もうちょっと買いたかったかも。ビーチに似合ったコーデが揃いました。</p>
<h2 id="悪かったところと言ってもいいところとも捉えられる">悪かったところ(と言っても、いいところとも捉えられる)</h2>
<p>もちろん、いいところばかりではありません。</p>
<h3 id="交通の便-">交通の便 🚋</h3>
<p>移動はほぼ全て車でした。最初の方はマネージャーが車でいろんなところに連れていってくれましたが、忙しくなってからは、自分で Uber を呼ぶくらいしか自由に移動できないのが少しストレスフルでした。幸いなことに、物価と賃金が安いことから、Uber であっても、街中に行くのは R50~100(350~700 円)程度で事足ります。最初は少しケチっていましたが、東京で電車に乗るくらいの出費でドアツードアで移動ができると思えば、まだいいのかなと思うようにもなりました。Uber 以外にも Bolt が進出してて、どちらか安い方で移動していました。二人組とかだと安くなって気兼ねなく乗れると思います。それか自分がケチなだけか。</p>
<p>残念なのは電車があるのに発達していないこと。Muizenberg や Simon&rsquo;s Town など、観光客がよく行く半島の南の方に伸びる電車に一度乗りました。来た当初は白人の生徒たちに電車移動はどうかと聞くと、危ないし汚いと勧められはしませんでしたが、公共交通機関大好きな人間としては、一度は試してみないとと思い、Muizenberg から Observatory に帰る際に電車に乗ってみました。チケットは Uber で行ったら片道 R120(約 900 円)くらいかかるところを R9(約 60 円ちょい)と激安です。ですが、電車は 1 時間に 1 度位しか来ないし、駅の間で断続的に止まったりするので遅いし(車 + 30 分)、とても便利とは言えませんでした。ですが、みんなが言うような汚さはなく、何ならバルセロナの電車よりキレイでした。危険性も特には感じないし、感じるのは「何だこのアジア人、珍しいな」みたいなみんなの視線くらいです。あまり急いでない際に乗る分には全然ありかと思いますが、観光のためにリライアブルに使えるとは到底言えないですね。</p>


<img src="https://res.cloudinary.com/scooter-scooter/image/upload/Portfolio/cape-town/train.jpg"
     class="rounded center" 
    alt="train in muizenberg" >



<h3 id="計画停電-">計画停電 💡</h3>
<p>南アフリカでは毎日停電があります。国営の電力会社 Eskom が資金をうまく使っていないので、施設の老朽化などが酷く、需要に耐えられないそうです。毎日、地区ごとに断片的に停電をしてなんとか賄っているそうです。停電の長さは、電気が足りてないレベルにもよりますが、僕が居た間は、大体一日に 2 時間の停電が一回だけある事が多かったです。何時に停電するかはアプリが教えてくれて、日によって朝の寝てる時間だったり、昼のエアコンを使いたい時間に停電して死にそうになったり、夜停電して真っ暗で何も見えなかったりなど、色々と不便なこともあります。お店ももちろん停電するので、ホットサンドを頼んでも「ごめん温められない」と言われたり、揚げ物を頼んでもフライヤーが使えないからキャンセルされたり、少しがっかりすることもありました。でも、人っていうのは面白いもので、2 週間もすれば、いつ停電が来ても普通に生活できる様になりました。</p>
<p>また、毎日停電するので、どの家やお店でもキャンドルが必需品となっています。おかげで、レストランなんかに行くとお店の電気は消えていて、店内を照らしているのは各テーブルのキャンドルだけみたいなところが多くあります。これが雰囲気を醸し出してくれて、不便の中にも良さがあるなと、少し感じました。家での食事も、庭のテーブルでキャンドルに照らされて食べるだけで(というかそれ以外手段がない)少しおしゃれな気分になれます。</p>


<img src="https://res.cloudinary.com/scooter-scooter/image/upload/Portfolio/cape-town/load-shedding.jpg"
     class="rounded center" 
    alt="candles on the table" >



<h3 id="治安-">治安 👮</h3>
<p>アメリカみたいに誰か撃たれたみたいなことがしょっちゅうあるわけではありませんが、貧困やホームレス問題がひどいせいもあって、窃盗が多いそうです。多いそうと言うか、滞在している間で 3 件周りの人が盗まれてました。最初はマネージャーのラップトップ。学校で無料セミナーを開催した際に、参加者の一人がテーブルに置いていたマックブックを盗んでいったそうです。このマックブックは紆余曲折を経て、なんとかマネージャーの手元に戻ってきました。これは盗人が計画的にやったわけではなく、思いつきでやったことが不幸中の幸いだったのかもしれません。</p>
<p>二件目もそのマネージャー。今度は友人に借りていたラップトップ、スピーカー、財布、車の鍵など色々と入ったバッグをビーチで盗まれていました。バッグを地面に置いて遠くを見て電話している間に気づいたらバッグがなくなっていたそうです。これは警察に届け出ても、たらい回しにされるだけで、一向に進展はなかったそうです。</p>
<p>三件目は、同僚でした。夜寝ている間に、家の前に停めてあった車がそっくりそのまま盗まれてしまいました。鍵もなくよく盗めたなと、感心してしまうくらいです。でも、彼女いわく、前持っていた車も、売ろうと考えていた時に盗まれてしまったそうです。その時は、なんだかんだ保険金が入ってきたし、ちょうどよかったと言っていたので、今回もそこまで木に指定なさそうでした。よくあるんでしょうね。</p>
<p>周りにこれだけ災難が起きていても、自分には特に危険に思うようなことは起きませんでした。とりあえず身の回りに目を配って、戸締まり等をしっかりすれば安全なんじゃないでしょうか。</p>
<h2 id="総じて">総じて</h2>
<p>トントン拍子で来ることが決まって、気づいたらまだ 3 月なのに、今年 2 回も南アフリカに来ていました。でも、家が一番ということで、しばらくの間は南アフリカはいいかなと思っています。でも、もし呼ばれたらまた行くかも。</p>
]]></content>
        </item>
        
        <item>
            <title>【ワーホリ🇪🇸】TIEの申請に2回もしくじった話</title>
            <link>https://ryuichirosuzuki.com/posts/getting-tie/</link>
            <pubDate>Thu, 05 Jan 2023 18:42:16 +0100</pubDate>
            
            <guid>https://ryuichirosuzuki.com/posts/getting-tie/</guid>
            <description>アポイントメントの予約 リンク切れ TIE の申込みをするのには、警察に行く必要があります。そのためには、事前に予約を取らなければいけません。その情報はどんな How to サイトにも書いてあるのですが、うざいのが、全てにおいて「ここで申し込むんだよ」っていうリンクが切れているということです。いつ変えたのか知りませんが、リンクが https://sede.administracionespublicas.gob.es/icpplustieb/index.html から https://icp.administracionelectronica.gob.es/icpplus/index.html に移動したらしく、どのサイトもハイパーリンクがアップデートされてないっぽいです。リダイレクトさせるくらいできただろと思いますが、そこはお役所仕事なのでしょう 🤷‍♀️
クソ UI TIEの予約画面 面接を予約するサイトが、誰が考えた UI なんだってくらいゴミです。自分のいる県を選んだ後に、どのオフィスで予約をしたいか選ぶんですが、それが住所のドロップダウンしか無いという。どのオフィスが近いのか、一々マップで確認しなきゃいけないというクソ仕様になってます。で、近いオフィスを選んでも、色々と入力させるくせに、枠がいっぱいだとエラーで最初からやり直しになります。
名前とか一生懸命入力させるくせにいっぱいだとエラー 一つ気づいたのは、最初、オフィスを選ぶ画面で、いきなりオフィスを選ぶのではなく、オフィスのところはCualquier oficinaのままで、TRÁMITES CUERPO NACIONAL DE POLICÍAだけ、TIE を取りたいというふうにしておけば、名前を入力した画面の後に、スポットが空いているオフィスだけのドロップダウンを出してくれる仕様になっています。最初からこれに気づきたかった… それは Cualquier の意味を知らなかった私のスペイン語力に問題があるのかもしれませんが 😅
見つけやすくした ぱぱっと、バルセロナの警察署の位置を見やすくするサイトを作りました
とりあえず予約 クソみたいな UI ではありましたが、なんとかバレンタインデー（1.5 ヶ月以上先）に予約が取れました。取れたと言っても、Rubí というバルセロナ中心部からは電車で 40 分くらいかかる場所で、私の家からだと 90 分程度の長旅になります。周りの経験談を聞いてみても、ラッキーであれば中心に近い警察署の予約が取れるのですが、大体が少し郊外の警察署にしか予約が取れないそうです。
下準備 申請に必要だというのは
パスポート 2 枚の写真（一応白い背景という文言を何箇所か見かけたので、持っていたグレーの背景の八尾手ゃ違う白い背景の写真を用意しておきました） TX-17（申請書） Empadronamiento Tasa Modelo 790 Código 012 の支払い証明書 と、政府のサイトには書かれています。
Tasa の支払いについて これは少しだけ手こずりましたね。申請に €16 ちょっとを払わないと行けないんですが、銀行に行く必要があります。もし、この時点で、スペインの&amp;quot;ちゃんとした&amp;quot;銀行の口座(Caixa, Santander, Sabadell, etc)を持っている方であれば、支払いの紙を作成するときに、支払い方法を現金(en efectivo)ではなく、口座からのデビット(E.C. Adeudo en cuenta)でやったほうが簡単です。そうすれば、紙をプリントアウトする必要もなく、バーコードを携帯に表示できるようにしておけば、Caixa の ATM に行って、バーコードをかざして、NIE 等を打ち込めば、人と話す必要もなく簡単に支払いができます。</description>
            <content type="html"><![CDATA[<h2 id="アポイントメントの予約">アポイントメントの予約</h2>
<h3 id="リンク切れ">リンク切れ</h3>
<p>TIE の申込みをするのには、警察に行く必要があります。そのためには、事前に予約を取らなければいけません。その情報はどんな How to サイトにも書いてあるのですが、うざいのが、全てにおいて「ここで申し込むんだよ」っていうリンクが切れているということです。いつ変えたのか知りませんが、リンクが <a href="https://sede.administracionespublicas.gob.es/icpplustieb/index.html">https://sede.administracionespublicas.gob.es/icpplustieb/index.html</a> から <a href="https://icp.administracionelectronica.gob.es/icpplus/index.html">https://icp.administracionelectronica.gob.es/icpplus/index.html</a> に移動したらしく、どのサイトもハイパーリンクがアップデートされてないっぽいです。リダイレクトさせるくらいできただろと思いますが、そこはお役所仕事なのでしょう 🤷‍♀️</p>
<h3 id="クソ-ui">クソ UI</h3>
<figure><img src="/posts/getting-tie/shit-ui.png"/><figcaption>
            <h4>TIEの予約画面</h4>
        </figcaption>
</figure>

<p>面接を予約するサイトが、誰が考えた UI なんだってくらいゴミです。自分のいる県を選んだ後に、どのオフィスで予約をしたいか選ぶんですが、それが住所のドロップダウンしか無いという。どのオフィスが近いのか、一々マップで確認しなきゃいけないというクソ仕様になってます。で、近いオフィスを選んでも、色々と入力させるくせに、枠がいっぱいだとエラーで最初からやり直しになります。</p>
<figure><img src="/posts/getting-tie/spot-full.png"/><figcaption>
            <h4>名前とか一生懸命入力させるくせにいっぱいだとエラー</h4>
        </figcaption>
</figure>

<p>一つ気づいたのは、最初、オフィスを選ぶ画面で、いきなりオフィスを選ぶのではなく、オフィスのところは<code>Cualquier oficina</code>のままで、<code>TRÁMITES CUERPO NACIONAL DE POLICÍA</code>だけ、TIE を取りたいというふうにしておけば、名前を入力した画面の後に、スポットが空いているオフィスだけのドロップダウンを出してくれる仕様になっています。最初からこれに気づきたかった… それは Cualquier の意味を知らなかった私のスペイン語力に問題があるのかもしれませんが 😅</p>
<h3 id="見つけやすくした">見つけやすくした</h3>
<p>ぱぱっと、<a href="https://suzukiryuichiro.github.io/find-locations/">バルセロナの警察署の位置を見やすくするサイト</a>を作りました</p>
<h3 id="とりあえず予約">とりあえず予約</h3>
<p>クソみたいな UI ではありましたが、なんとかバレンタインデー（1.5 ヶ月以上先）に予約が取れました。取れたと言っても、Rubí というバルセロナ中心部からは電車で 40 分くらいかかる場所で、私の家からだと 90 分程度の長旅になります。周りの経験談を聞いてみても、ラッキーであれば中心に近い警察署の予約が取れるのですが、大体が少し郊外の警察署にしか予約が取れないそうです。</p>
<h2 id="下準備">下準備</h2>
<p>申請に必要だというのは</p>
<ul>
<li>パスポート</li>
<li>2 枚の写真（一応白い背景という文言を何箇所か見かけたので、持っていたグレーの背景の八尾手ゃ違う白い背景の写真を用意しておきました）</li>
<li>TX-17（申請書）</li>
<li>Empadronamiento</li>
<li>Tasa Modelo 790 Código 012 の支払い証明書</li>
</ul>
<p>と、<a href="https://extranjeros.inclusion.gob.es/es/InformacionInteres/InformacionProcedimientos/Ciudadanosnocomunitarios/hoja092/index.html">政府のサイト</a>には書かれています。</p>
<h3 id="tasa-の支払いについて">Tasa の支払いについて</h3>
<p>これは少しだけ手こずりましたね。申請に €16 ちょっとを払わないと行けないんですが、銀行に行く必要があります。もし、この時点で、スペインの&quot;ちゃんとした&quot;銀行の口座(Caixa, Santander, Sabadell, etc)を持っている方であれば、<a href="https://sede.policia.gob.es:38089/Tasa790_012/ImpresoRellenar">支払いの紙</a>を作成するときに、支払い方法を現金(en efectivo)ではなく、口座からのデビット(E.C. Adeudo en cuenta)でやったほうが簡単です。そうすれば、紙をプリントアウトする必要もなく、バーコードを携帯に表示できるようにしておけば、Caixa の ATM に行って、バーコードをかざして、NIE 等を打ち込めば、人と話す必要もなく簡単に支払いができます。</p>
<p>ですが、私のように、N26 という少し新し目な銀行口座を持っていると、ちゃんと名目上はスペインの銀行口座なのに、なぜか Caixa の ATM は受け付けてくれません。仕方なく、現金で払うことにしました。ですがまたこれが一苦労。最初、バーコードだけ読めればいいでしょと高をくくって Santander に行ってみたんですが、Santander の機械は紙しか受け付けてくれないとのことなので、仕方なく紙をプリントアウトしに。そして戻ってきたら、Santander の口座を持っていない人には、一日の一定の時間しか対応できないと、追い返されてしまいました。仕方なく、次の日、Sanatnder が口座を持っていない人に対応している時間が AM9:00 から AM10:30 だとのことなので、朝イチで近所の Sanatnder に赴き、ようやく現金で支払う事ができました。もし、スペインの銀行口座をお持ちでない方は、気をつけてください。</p>
<h3 id="証明写真">証明写真</h3>
<p>証明写真機が Universitat や Verdeguer の駅ナカにあるので、それで新しい写真を調達しておきました。€5 で 6 枚撮ってもらえます。日本より安いですね。画質はちょっと悪いですけど。</p>
<h2 id="アポイントメント当日">アポイントメント当日</h2>
<h3 id="1-回戦">1 回戦</h3>
<p><figure><img src="/posts/getting-tie/rubi-policia.jpg"/><figcaption>
            <h4>Rubíの警察署の外</h4>
        </figcaption>
</figure>

<figure><img src="/posts/getting-tie/rubi-inside.jpg"/><figcaption>
            <h4>Rubíの警察署の中。思ったより綺麗</h4>
        </figcaption>
</figure>
</p>
<p>電車で 1 時間以上かけて Rubí に行きました。警察署は思ったより綺麗で、受付の人に&quot;Tengo una cita a las 12:03 para TIE&quot;って言ったら、待合室に通されました。自分の番になったので、中に呼ばれて、担当の職員さんに全て書類を渡しました。警察の人は誰も英語を喋ってくれないと言われていたので、少し心配でしたが、自分の担当だった人は結構流暢な英語を喋れる人でした。なので全部英語で会話しました。</p>
<p>結果を言うと、TIE の申し込みはできませんでした。向こうが色々と情報を入力したあと、TIE の申込みをできる人なら出てくる画面が出てこなかったそうです。なので君は一度バルセロナ市役所の Oficina de Extranjeria に行きなさいと言われました。でも、こっちとしても、1 ヶ月以上待った上に、1 時間以上かけて来ているわけですから、結構食い下がりました。いや、他のワーホリの人はこのまま取れているから自分も取れるはずだ。ワーホリが何か知らないだけで、学生かなんかと間違えてるんじゃないか。かなり反論しましたが、職員の方も、結構キレ気味で、何度も同じことを言わせるなと言ってきたので、仕方なくその日は退散しました。</p>
<p>本当に悔しかったです。きっと自分があたった職員がワーホリの存在を知らなくて、処理し間違えたんだろうと。一度親友に電話して、心を落ち着かせてから、悔しがっても仕方ないと思い、もう一度アポイントメントを取ろうと、最初からやり直しました。</p>
<h3 id="何故か次の日が空いていた">何故か次の日が空いていた</h3>
<p>またゴミ UI の予約画面から来月あたりのスポットが予約できたらいいな、くらいの気持ちでサイトを開いたら、驚くことに、次の日に街の中心にある一番大きい警察署のスロットが一箇所空いていました。誰かが直前にキャンセルしたのかわかりませんが、これは取るしかないと思って速攻で予約しました。</p>
<h3 id="2-回戦">2 回戦</h3>
<figure><img src="/posts/getting-tie/bcn-policia.jpg"/><figcaption>
            <h4>メインの警察署。申請が通ったらここに受け取りに来るらしい</h4>
        </figcaption>
</figure>

<p>次の日は、スペイン語ができる友達にもついてきてもらいました。同じように番号が呼ばれるまで待って、順番になったのでブースまで行き、警察官に書類を全部渡しました。今回は英語を喋れない人だったので、友達に会話は全部任せました😓</p>
<p>結果は、再度申請不可。職員の人も、前日と一緒で、何かはわからないけど、出てくるはずの画面が出てこない。だから市役所に行ってなにかをしなきゃいけない。だから今日は帰ってくれと。</p>
<p>特に何がだめなのか、よくわからないまま、2 日連続で断れてしまいました。他のワーホリ体験談等を見ていても、同じようなことを綴っている人は居ないので、本当にもどかしい限りなんですが、とりあえず、Rubi の警察官が悪いんじゃなくて、自分のステータスのどこかに TIE の申請を妨げる何かがあるんだなと証明されただけでも、結果としては良かったのかもしれません。</p>
<h2 id="今後の計画">今後の計画</h2>
<p>今のところは、正直 TIE を取得するのは諦めかけています。取ったところで、実際に Autonomo として登録できるのかはわからないし、社会保障番号を発行できるのかもわからないし、正式な手順を踏んだところで、毎月 €90 を社会保障として払わなきゃいけないしと、先は長いので、正直疲れちゃいました。今のところは日本とそれ以外の案件をやっていこうかなと思っています。スペインまで来て、スペイン以外の仕事しかできない。笑えますね。</p>
<p>もし、リトライすることがあれば、続編を書こうかなと思っています。</p>
]]></content>
        </item>
        
        <item>
            <title>スペインにワーホリビザで来て、エンジニア就活をした話</title>
            <link>https://ryuichirosuzuki.com/posts/getting-a-job-in-spain/</link>
            <pubDate>Wed, 28 Dec 2022 15:31:23 +0100</pubDate>
            
            <guid>https://ryuichirosuzuki.com/posts/getting-a-job-in-spain/</guid>
            <description>はじめに ワーホリビザで 2022 年の 9 月末にバルセロナに来ました。自分の目標としては、こっちでフルタイムのオファーを貰って、あわよくば就労ビザなりをゲットすること。そんな目標を持って、就活を始めました。この記事では、就活の流れや、何をしたかを書いていきます。ネットを調べても、あまり経験談などを見ないので、自分の備忘録も兼ねて、もし同じことを考えている人の助けになればと思い、書きました。
自己紹介 大学を 2022 年の 8 月に卒業して、何も考えず、スペインに行くことを決めました。日本でバイトの様にやっていたフリーランスの仕事を生活費の足しにするためにリモートで続けつつ、フルタイムの仕事を探しました。 実務経験は、フリーランスとインターンを 1 年半近くやっていました。主にスタートアップサイズの企業で、RoR や Vue.js を使っていました。大学は情報系の出身では無いので、プログラミングの知識はブートキャンプで身につけた後、実務や独学で身につけました。
どこで職を探したか Linkedin とりあえず、Linkedin をたくさん使いました。面白そうだと思った仕事には積極的にアプライをしていきました。時々、完全に無視されたりなんかもありましたが、毎日企業規模を問わずたくさんのジョブオファーがくるので、いつも眺めていました。Linkedin でプロフィールをしっかりと書いていると、リクルーターからの連絡も来ます。何個か電話に対応して見たものの、最終的にその面談を一回やっただけで、後は音信不通みたいなのが全部でした。下手な鉄砲だと思い、積極的に対応していましたが、結果には繋がりませんでした。人にもよるのかもしれませんね。
人に会う Meetup アプリで、飲み会にいくつか参加しました。これはただ友達作りにと思っていたのですが、偶然、ソフトウェア系の会社で働く人と仲良くなりました。彼の働く会社が、ちょうどバルセロナオフィスを設立したばかりだというので、せっかくなので彼を通じて SE のポジションに応募しました。リファーラルはやはり強いですね。トントン拍子で面接も決まり、オフィスにも呼んでもらいました。かなりうまく行ったと思うのですが、残念ながら、会社が ASP.NET メインのスタックだということ（自分経験無し）と、オフィス立ち上げ初期なので、ジュニアよりかはシニアを優先に取るとのことで、また数カ月後に縁があればと、オファーは貰えませんでした。ですが、人との繋がりから、仕事につながる兆しが見えただけでも、いい経験だったと思います。
就活イベント バルセロナでやっていたテック系就活イベントにも行ってみました。Eventbrite で見つけたやつです。そこで、一社、ポーランドのコンサル会社の方と話が弾み、Linkedin を交換して、その日のうちにアプライしました。そこは面接をし、コーディングテストをし、テクニカルインタビューを踏んで、今の所 (Dec 28, 2022) 最後の返事待ちです。手応えとしては、やはり Linkedin で何も知らない、やる気あるかわからない状態から就活するよりかは、熱意が伝わるのか、進むのは順調でした。まだオファーを貰ってはいませんが、手応えのあった手法だと思います。
Honeypot Honeypot が良いとおすすめされたので、登録してみました。Linkedin の逆で、会社があなたを探してくれるサービスです。ですが、おそらく身分不相応な希望年収を書いたので、一度も面接には呼ばれませんでした。少し、戦い方を間違えたなと反省しています。
その他 最終的にオファーを貰ったところは、前述した飲み会で知り合った友人の会社にアプライしたときに、その会社が使っていた応募者用のページを作っているところでした。会社のプロダクトとしては、そういった応募者の管理や、面接の日程を決めたり、HR との連絡をストリームライン化するアプリケーションを作っている会社です。UI が気に入ったので、フッターにあったリンクから、エンジニア募集してないかな？と調べてみたら、ちょうどフルリモートのエンジニアを募集していたので、応募しました。最初にプロダクトマネージャーと 1 時間ほど面接をし、その後、性格診断テストとかんたんなロジカルシンキングテストをやりました。最後に、二人のエンジニアを前に、実務で書いたコードを見せながら、なぜこういうコードを書いたのか、もしもう一度同じことをするなら、何を改善するか、など、プレゼンベースの面接を 1 時間半ほどやりました。
結論 かなり気力と体力を使いました。リクルーターが音信不通になったり、「どんな言語でもいいからアプリ作って来て」って言われたので Node で書いたら、やっぱ PHP で書いてきて、と言われたり、面接長かったり。後、今後ビサの記事で書こうと思いますが、やはりワーホリビザでいるということを最初にうまく伝えておくのは大切だと感じました。そうすれば、自分側も、向こう側も、なんだかんだ無駄にする時間が減ると思います。
追記 (2023/01/09) - ワーホリだからオファーを取り下げられた I apologize for the delay in the replay. I checked and unfortunately with our current resources it won’t be possible.</description>
            <content type="html"><![CDATA[<h2 id="はじめに">はじめに</h2>
<p>ワーホリビザで 2022 年の 9 月末にバルセロナに来ました。自分の目標としては、こっちでフルタイムのオファーを貰って、あわよくば就労ビザなりをゲットすること。そんな目標を持って、就活を始めました。この記事では、就活の流れや、何をしたかを書いていきます。ネットを調べても、あまり経験談などを見ないので、自分の備忘録も兼ねて、もし同じことを考えている人の助けになればと思い、書きました。</p>
<h2 id="自己紹介">自己紹介</h2>
<p>大学を 2022 年の 8 月に卒業して、何も考えず、スペインに行くことを決めました。日本でバイトの様にやっていたフリーランスの仕事を生活費の足しにするためにリモートで続けつつ、フルタイムの仕事を探しました。
実務経験は、フリーランスとインターンを 1 年半近くやっていました。主にスタートアップサイズの企業で、RoR や Vue.js を使っていました。大学は情報系の出身では無いので、プログラミングの知識はブートキャンプで身につけた後、実務や独学で身につけました。</p>
<h2 id="どこで職を探したか">どこで職を探したか</h2>
<h3 id="linkedin">Linkedin</h3>
<p>とりあえず、Linkedin をたくさん使いました。面白そうだと思った仕事には積極的にアプライをしていきました。時々、完全に無視されたりなんかもありましたが、毎日企業規模を問わずたくさんのジョブオファーがくるので、いつも眺めていました。Linkedin でプロフィールをしっかりと書いていると、リクルーターからの連絡も来ます。何個か電話に対応して見たものの、最終的にその面談を一回やっただけで、後は音信不通みたいなのが全部でした。下手な鉄砲だと思い、積極的に対応していましたが、結果には繋がりませんでした。人にもよるのかもしれませんね。</p>
<h3 id="人に会う">人に会う</h3>
<p>Meetup アプリで、飲み会にいくつか参加しました。これはただ友達作りにと思っていたのですが、偶然、ソフトウェア系の会社で働く人と仲良くなりました。彼の働く会社が、ちょうどバルセロナオフィスを設立したばかりだというので、せっかくなので彼を通じて SE のポジションに応募しました。リファーラルはやはり強いですね。トントン拍子で面接も決まり、オフィスにも呼んでもらいました。かなりうまく行ったと思うのですが、残念ながら、会社が ASP.NET メインのスタックだということ（自分経験無し）と、オフィス立ち上げ初期なので、ジュニアよりかはシニアを優先に取るとのことで、また数カ月後に縁があればと、オファーは貰えませんでした。ですが、人との繋がりから、仕事につながる兆しが見えただけでも、いい経験だったと思います。</p>
<h3 id="就活イベント">就活イベント</h3>
<p>バルセロナでやっていたテック系就活イベントにも行ってみました。Eventbrite で見つけたやつです。そこで、一社、ポーランドのコンサル会社の方と話が弾み、Linkedin を交換して、その日のうちにアプライしました。そこは面接をし、コーディングテストをし、テクニカルインタビューを踏んで、今の所 (Dec 28, 2022) 最後の返事待ちです。手応えとしては、やはり Linkedin で何も知らない、やる気あるかわからない状態から就活するよりかは、熱意が伝わるのか、進むのは順調でした。まだオファーを貰ってはいませんが、手応えのあった手法だと思います。</p>
<h3 id="honeypot">Honeypot</h3>
<p>Honeypot が良いとおすすめされたので、登録してみました。Linkedin の逆で、会社があなたを探してくれるサービスです。ですが、おそらく身分不相応な希望年収を書いたので、一度も面接には呼ばれませんでした。少し、戦い方を間違えたなと反省しています。</p>
<h3 id="その他">その他</h3>
<p>最終的にオファーを貰ったところは、前述した飲み会で知り合った友人の会社にアプライしたときに、その会社が使っていた応募者用のページを作っているところでした。会社のプロダクトとしては、そういった応募者の管理や、面接の日程を決めたり、HR との連絡をストリームライン化するアプリケーションを作っている会社です。UI が気に入ったので、フッターにあったリンクから、エンジニア募集してないかな？と調べてみたら、ちょうどフルリモートのエンジニアを募集していたので、応募しました。最初にプロダクトマネージャーと 1 時間ほど面接をし、その後、性格診断テストとかんたんなロジカルシンキングテストをやりました。最後に、二人のエンジニアを前に、実務で書いたコードを見せながら、なぜこういうコードを書いたのか、もしもう一度同じことをするなら、何を改善するか、など、プレゼンベースの面接を 1 時間半ほどやりました。</p>
<h2 id="結論">結論</h2>
<p>かなり気力と体力を使いました。リクルーターが音信不通になったり、「どんな言語でもいいからアプリ作って来て」って言われたので Node で書いたら、やっぱ PHP で書いてきて、と言われたり、面接長かったり。後、今後ビサの記事で書こうと思いますが、やはりワーホリビザでいるということを最初にうまく伝えておくのは大切だと感じました。そうすれば、自分側も、向こう側も、なんだかんだ無駄にする時間が減ると思います。</p>
<h2 id="追記-20230109---ワーホリだからオファーを取り下げられた">追記 (2023/01/09) - ワーホリだからオファーを取り下げられた</h2>
<blockquote>
<p>I apologize for the delay in the replay. I checked and unfortunately with our current resources it won’t be possible. ☹
I hope we stay in touch though and when we have more possibilities, we can cooperate again.</p>
</blockquote>
<p>オファーを頂いていたポーランドのコンサル会社から、やはりワーホリビザじゃ働かせられないし、就労ビザの手続きもしたくないから、やっぱりごめんとのメールを頂きました。オファーも、€22000 と、スウェーデンの会社に比べて 150 万円ほど安かったので、正直あまり選ぶ気はありませんでしたが、やはりビザ面倒くさいからごめんと言われるとしゃくですね…</p>
<h2 id="追記-2-20231-月中旬---ワーホリだから契約できないとなったけど代替案を提示された">追記 2 (2023/1 月中旬) - ワーホリだから契約できないとなったけど、代替案を提示された</h2>
<p>オファーを頂いたスウェーデンの会社ですが、1 月からスタートする予定だったんですが、契約書を用意する段階で、向こうから今のビザでは雇うことができないという悲しいメールが来ました。ワーホリでフルタイムはやはり会社としては無理なんですね。おそらく契約に終了がないのがいけないんでしょうか。</p>
<p>こちらとしても、インターンや、パートタイム契約ならどうだと、少しごねては見ましたが、向こうの雇用フィロソフィーと合わないということもあって、今すぐスタートするのは見送ることになりました。ですが、その後マネージャーと面談をした結果、とても寛大な提案をしていただきました。</p>
<ol>
<li>なる早でスタートするために、スウェーデンに引っ越して、スウェーデンの就労ビザを申し込む。こうすれば、会社としても経験豊富だし、オフィスに来て働ける。</li>
<li>少しスペインに飽きるまで居て、数カ月後にスウェーデンに行って、同じことをする。そうすればスペインを十分に満喫してから、仕事を始められる。</li>
<li>ワーホリビザが切れるまで待って、それからスペインの就労ビザを取得して、リモートでスペインから働く。</li>
</ol>
<p>大変光栄なことに、向こうは僕のポテンシャルに期待してくれているそうで、「待つに値する」とまで言ってくれました。自分は、スペインに来て間もないし、スペイン語もまだ満足に喋れないので、お金を使って今すぐにスウェーデンに行く決心はできないと伝えました。結果、3 のワーホリビザが切れる 9 月まで待って、日本で就労ビザを取得して、早ければ 2023 年以内、もし時間がかかるようであれば 2024 年からスタートするということで合意しました。なので、とりあえずそれまではフリーランスを続ければいいのかな。</p>
]]></content>
        </item>
        
        <item>
            <title>日本にいながらスペインの銀行口座と携帯番号をゲットする方法</title>
            <link>https://ryuichirosuzuki.com/posts/spain-phone-and-bank/</link>
            <pubDate>Tue, 27 Sep 2022 07:46:45 +0900</pubDate>
            
            <guid>https://ryuichirosuzuki.com/posts/spain-phone-and-bank/</guid>
            <description>条件 銀行口座 特になし（ただお金を受け取ったり、引き落としたりする口座があれば良ければ） NIE (スペインの銀行口座を開きたければ) 携帯番号 現地に携帯番号のある友人 住所が決まってると便利かも 銀行口座の取得 Wise 海外移住を考えている人は、必ずWiseの存在をご存知なんじゃないでしょうか？ほぼマーケットと同じ為替レートで各国の通貨を換金することができます。また、一つのWiseアカウントで通貨ごとの&amp;quot;銀行口座&amp;quot;を作ることができます。私も、自分のアカウントで€の銀行口座を開き、Wiseのアプリ上でブリュッセルに銀行口座が開かれたことを確認できました。移住後に給料を支払うために、雇用者からIBANなどを聞かれたら、Wise上のユーロ口座のIBANを伝えれば、そこに直接給料が振り込まれます。また、日本でWiseのカードを¥2000でゲットして、スーパーなどの買い物で使えば、自動的にユーロの口座からデビットで引き落とされます。驚いたのが、日本円-&amp;gt;ユーロの両替のスピードです。手順としては
Wiseで自分のユーロの口座にいくら送りたいか入力する 日本円でWise宛(Paypay銀行の口座)にいくら振り込めばいいか伝えられる 言われた額と同じ額を自分の銀行のオンラインバンキングを使って振り込む（この際に振込手数料は取られる。だが、銀行の国際送金の手数料に比べれば微々たるもの） Wise側で、振り込みが完了したことを伝える この手順を踏めば、私の場合当日中に指定した額のユーロが自分の口座に入っていました。USDでもWiseを使ったことがあるのですが、その際は2~3日かかったので、驚きました。 こっちで現金をATMから引き落としたければ、前述した¥2000のWiseカードを日本で手に入れる必要があります。また、日本のWiseはGoogle Payなどに対応していないので、物理カードをゲットしておくことが無難なのではないでしょうか？
N26 Wiseは普段の生活に支障は無いかもしれませんが、一つだけネックなのは、ユーロ口座が実質ベルギーの口座になってしまっているということです。後述する携帯電話の契約を結ぼうとした際に、スペインの銀行のIBANでないと受け付けないと弾かれてしまいました。今後もそういった事例が発生するかとも思い、スペインの銀行口座を開くことにしました。
目をつけたのは、N26。理由としては、オーストリアの友人がおすすめしていたから。ここも、有名なオンラインバーチャルバンクの一種で、バーチャルであるからこそ、実際の銀行のような煩雑な現地での手続きなどを踏まなくて良いと思い試してみました。
携帯にアプリをダウンロードして、口座を開設する国にスペインを選択し、後はNIEなど、必要な情報を入力する。後は、個人の認証のために、パスポートの写しなどを指示に従ってアップロードするだけ。申請を完了させれば、後は承認されるのを待つだけ。申請して本当に数時間も立たないうちに受理されました。
ちなみに、N26は色々とビジネスバージョンだったり、一月にいくらか払うと、ATMで現金をおろせる回数が増えたりなど、色々とプランを選ぶことができます。私はとりあえず月額無料のビジネスのバーチャルカードを選びました。なぜなら、安いし、物理カードを受け取るすべ（まだ日本にいたから）がないから。現地に行って、必要を感じたら10ユーロ払ってカードを貰えばいいやと思っていました。ちなみに、これを書いている現在、スペインで一週間バーチャルカードを使って過ごしていますが、特に問題はありません。どのお店もNFCのリーダーを持っているので、携帯さえ持っていれば、とりあえず支払いはできます。もしできなくても、バックアップにWiseの物理カードがあるので、今の所現金を使わなきゃいけない場面には出くわしていません。
今の所、N26にはWiseからお金を振り込む形でチャージをしています。手数料はかかりますが、いくらWiseから送金しても、€0.28と微々たるものなので、特に気にせずにチャージしてます。
これでめでたくスペインの銀行口座をゲットすることができました。手に入れたスペインのIBANで携帯の契約をすることにしました。
携帯番号 まずは、携帯のキャリアをいくつか調べました。どの会社も20GBとかけ放題で€20くらいのプランが多く、日本の大手キャリアに比べれば安いと感じるものが多かったです。他にも面白い特典などもあり、例えば、Vodafoneのプランは、週末はデータがカウントされないそうです。他にも、値段で見れば、MVNOがやはり安いです。Lowiなんかだと、20GBかけ放題で€10くらいのプランなんかもありました。
その中で私はMovistarの電波を使っているMVNO(イギリスなんかだと大手キャリアですが)O2を選びました。選んだ理由としては、
5Gが使える 値段がまあ妥当 (€10/month) 20GB 電話し放題 SMS送り放題 eSIMが使える 名前を知ってる カバレージが、Vodafoneより広い です。 カバレージに関しては、バルセロナの町中に入る分にはあまり関係ないかもしれませんが、上にリンクしたマップを見る限り、田舎道なんかのカバレージと5Gの電波塔の範囲では、Movistarが勝っているのがわかると思います。 東京で5Gの速さに慣れてしまったので、正直5Gをカバーしていないプランは考えていませんでした。後、ついた瞬間に使えるという安心感が欲しかったので、海外からでもアクティベートできそうなO2を選びました。
入手方法 入手方法は至って簡単で、O2の申し込みのページで、名前、生年月日、NIE、さっき入手したN26のスペインの銀行口座情報などを入力するだけ。一つだけトリッキーなのが、連絡用の電話番号を入力しなくてはいけないこと。電話番号が無いんだから、申し込むんだろうが、ってツッコみたくなりますが、日本の番号は受け付けてくれないので、仕方なく、ルームメイトにWhatsappで許可を取り、彼の電話番号を入力しました。そうすると、認証コードが彼の元に行くので、Whatsappで教えてもらい、認証を完了させました。ルームメイトがいなかったら、おそらく諦めて、現地でVodafoneのストアで契約するとかしかできなかったでしょう。
とりあえず、申込みが完了し、後は個人の認証のために、指定されたメールアドレスに自分のビザの写しとNIEの通知書を添付して送信しました。そしたら、数日後に自分の電話番号が書かれたPDFが送られてきて、その中にあるQRコードを、携帯の設定にあるSIMを追加する手順からスキャンし、SIMをダウンロードすれば、完了です。O2のプランには、ヨーロッパ内でのローミングしか無いので、その場で接続を確認することはできませんでした。ですが、実際にバルセロナに着陸した瞬間、飛行機の中でLINEの通知を勝手に受信し始めたときは、安心しました。入国してからは、SMS、電話、データ通信は全く問題ありません。もちろん、日本の様なカバレージは期待していないので、ピソの部屋からのデータ通信はとても遅いですが、道でマップを見るなんかは、問題なく読み込みます。町中では、4Gでも下りが120Mbpsくらい出ます。申し分ないです。地下鉄でも、あまり途切れることなく使えます。
こっちに来てからでも十分かもしれませんが、日本にいるうちにできるので、時間節約のためにも、是非試してみて下さい。</description>
            <content type="html"><![CDATA[<h2 id="条件">条件</h2>
<h3 id="銀行口座">銀行口座</h3>
<ul>
<li>特になし（ただお金を受け取ったり、引き落としたりする口座があれば良ければ）</li>
<li>NIE (スペインの銀行口座を開きたければ)</li>
</ul>
<h3 id="携帯番号">携帯番号</h3>
<ul>
<li>現地に携帯番号のある友人</li>
<li>住所が決まってると便利かも</li>
</ul>
<h2 id="銀行口座の取得">銀行口座の取得</h2>
<h3 id="wise">Wise</h3>
<p>海外移住を考えている人は、必ずWiseの存在をご存知なんじゃないでしょうか？ほぼマーケットと同じ為替レートで各国の通貨を換金することができます。また、一つのWiseアカウントで通貨ごとの&quot;銀行口座&quot;を作ることができます。私も、自分のアカウントで€の銀行口座を開き、Wiseのアプリ上でブリュッセルに銀行口座が開かれたことを確認できました。移住後に給料を支払うために、雇用者からIBANなどを聞かれたら、Wise上のユーロ口座のIBANを伝えれば、そこに直接給料が振り込まれます。また、日本でWiseのカードを¥2000でゲットして、スーパーなどの買い物で使えば、自動的にユーロの口座からデビットで引き落とされます。驚いたのが、日本円-&gt;ユーロの両替のスピードです。手順としては</p>
<ul>
<li>Wiseで自分のユーロの口座にいくら送りたいか入力する</li>
<li>日本円でWise宛(Paypay銀行の口座)にいくら振り込めばいいか伝えられる</li>
<li>言われた額と同じ額を自分の銀行のオンラインバンキングを使って振り込む（この際に振込手数料は取られる。だが、銀行の国際送金の手数料に比べれば微々たるもの）</li>
<li>Wise側で、振り込みが完了したことを伝える</li>
</ul>
<p>この手順を踏めば、私の場合当日中に指定した額のユーロが自分の口座に入っていました。USDでもWiseを使ったことがあるのですが、その際は2~3日かかったので、驚きました。
こっちで現金をATMから引き落としたければ、前述した¥2000のWiseカードを日本で手に入れる必要があります。また、日本のWiseはGoogle Payなどに対応していないので、物理カードをゲットしておくことが無難なのではないでしょうか？</p>
<h3 id="n26">N26</h3>
<p>Wiseは普段の生活に支障は無いかもしれませんが、一つだけネックなのは、ユーロ口座が実質ベルギーの口座になってしまっているということです。後述する携帯電話の契約を結ぼうとした際に、スペインの銀行のIBANでないと受け付けないと弾かれてしまいました。今後もそういった事例が発生するかとも思い、スペインの銀行口座を開くことにしました。</p>
<p>目をつけたのは、N26。理由としては、オーストリアの友人がおすすめしていたから。ここも、有名なオンラインバーチャルバンクの一種で、バーチャルであるからこそ、実際の銀行のような煩雑な現地での手続きなどを踏まなくて良いと思い試してみました。</p>
<p>携帯にアプリをダウンロードして、口座を開設する国にスペインを選択し、後はNIEなど、必要な情報を入力する。後は、個人の認証のために、パスポートの写しなどを指示に従ってアップロードするだけ。申請を完了させれば、後は承認されるのを待つだけ。申請して本当に数時間も立たないうちに受理されました。</p>
<p>ちなみに、N26は色々とビジネスバージョンだったり、一月にいくらか払うと、ATMで現金をおろせる回数が増えたりなど、色々とプランを選ぶことができます。私はとりあえず月額無料のビジネスのバーチャルカードを選びました。なぜなら、安いし、物理カードを受け取るすべ（まだ日本にいたから）がないから。現地に行って、必要を感じたら10ユーロ払ってカードを貰えばいいやと思っていました。ちなみに、これを書いている現在、スペインで一週間バーチャルカードを使って過ごしていますが、特に問題はありません。どのお店もNFCのリーダーを持っているので、携帯さえ持っていれば、とりあえず支払いはできます。もしできなくても、バックアップにWiseの物理カードがあるので、今の所現金を使わなきゃいけない場面には出くわしていません。</p>
<p>今の所、N26にはWiseからお金を振り込む形でチャージをしています。手数料はかかりますが、いくらWiseから送金しても、€0.28と微々たるものなので、特に気にせずにチャージしてます。</p>
<p>これでめでたくスペインの銀行口座をゲットすることができました。手に入れたスペインのIBANで携帯の契約をすることにしました。</p>
<h2 id="携帯番号-1">携帯番号</h2>
<p>まずは、携帯のキャリアをいくつか調べました。どの会社も20GBとかけ放題で€20くらいのプランが多く、日本の大手キャリアに比べれば安いと感じるものが多かったです。他にも面白い特典などもあり、例えば、Vodafoneのプランは、週末はデータがカウントされないそうです。他にも、値段で見れば、MVNOがやはり安いです。Lowiなんかだと、20GBかけ放題で€10くらいのプランなんかもありました。</p>
<p>その中で私はMovistarの電波を使っているMVNO(イギリスなんかだと大手キャリアですが)O2を選びました。選んだ理由としては、</p>
<ul>
<li>5Gが使える</li>
<li>値段がまあ妥当 (€10/month)
<ul>
<li>20GB</li>
<li>電話し放題</li>
<li>SMS送り放題</li>
</ul>
</li>
<li>eSIMが使える</li>
<li>名前を知ってる</li>
<li><a href="https://www.nperf.com/en/map/ES/-/168910.Movistar-Movil/signal/?ll=39.143907559644944&amp;lg=-1.813774108886719&amp;zoom=6">カバレージ</a>が、Vodafoneより広い
です。</li>
</ul>
<p>カバレージに関しては、バルセロナの町中に入る分にはあまり関係ないかもしれませんが、上にリンクしたマップを見る限り、田舎道なんかのカバレージと5Gの電波塔の範囲では、Movistarが勝っているのがわかると思います。
東京で5Gの速さに慣れてしまったので、正直5Gをカバーしていないプランは考えていませんでした。後、ついた瞬間に使えるという安心感が欲しかったので、海外からでもアクティベートできそうなO2を選びました。</p>
<h2 id="入手方法">入手方法</h2>
<p>入手方法は至って簡単で、O2の申し込みのページで、名前、生年月日、NIE、さっき入手したN26のスペインの銀行口座情報などを入力するだけ。一つだけトリッキーなのが、連絡用の電話番号を入力しなくてはいけないこと。電話番号が無いんだから、申し込むんだろうが、ってツッコみたくなりますが、日本の番号は受け付けてくれないので、仕方なく、ルームメイトにWhatsappで許可を取り、彼の電話番号を入力しました。そうすると、認証コードが彼の元に行くので、Whatsappで教えてもらい、認証を完了させました。ルームメイトがいなかったら、おそらく諦めて、現地でVodafoneのストアで契約するとかしかできなかったでしょう。</p>
<p>とりあえず、申込みが完了し、後は個人の認証のために、指定されたメールアドレスに自分のビザの写しとNIEの通知書を添付して送信しました。そしたら、数日後に自分の電話番号が書かれたPDFが送られてきて、その中にあるQRコードを、携帯の設定にあるSIMを追加する手順からスキャンし、SIMをダウンロードすれば、完了です。O2のプランには、ヨーロッパ内でのローミングしか無いので、その場で接続を確認することはできませんでした。ですが、実際にバルセロナに着陸した瞬間、飛行機の中でLINEの通知を勝手に受信し始めたときは、安心しました。入国してからは、SMS、電話、データ通信は全く問題ありません。もちろん、日本の様なカバレージは期待していないので、ピソの部屋からのデータ通信はとても遅いですが、道でマップを見るなんかは、問題なく読み込みます。町中では、4Gでも下りが120Mbpsくらい出ます。申し分ないです。地下鉄でも、あまり途切れることなく使えます。</p>
<p>こっちに来てからでも十分かもしれませんが、日本にいるうちにできるので、時間節約のためにも、是非試してみて下さい。</p>
]]></content>
        </item>
        
        <item>
            <title>スペインワーホリビザ取得までの話</title>
            <link>https://ryuichirosuzuki.com/posts/spain-visa/</link>
            <pubDate>Thu, 22 Sep 2022 02:49:30 +0900</pubDate>
            
            <guid>https://ryuichirosuzuki.com/posts/spain-visa/</guid>
            <description>ちょうどフリーランスエンジニアとして、東京でも少しずつ自信がついてきたので、いっそのことどこかに移住してトライして見よう。ということで、バルセロナに引っ越すことにしました。
下準備 8 月に大学を卒業するので、準備期間なども含めて、9 月の下旬に飛び立つことを決定。大使館 HP にも書いてあるように、ワーホリビザには、事前に航空券を買っておく必要があります。なので、適当に 9 月頃の一番安いチケットをスカイスキャナーで探し、購入。他にも、行動の計画表や、外国人番号の登録申請書など、とりあえず HP に書けと言われているものはすべて書く。
予定表は、何をどれくらい詳しく書けば良いのかもわからなかったので、本当にざっくりと書きました。一応欄は 10 個くらいあるのですが、私は、
9~12 月、仕事。 年末年始あたり、旅行。 2 月以降、仕事。 という、仕事する気満々の予定を書きました。これの是非については、また後ほど。
ビザ申請に行った。 7 月の初旬、当時住んでいた秋田県から東京に帰郷し、六本木一丁目駅の近くにあるスペイン大使館までビザの申請をしに行きました。まず、トリッキーなのが、六本木一丁目の駅の構造。後ほど話すように、3 回訪れて気づいたのは、地下鉄の出口の目の前にある外にあるエスカレーターをまっすぐ上に上がって、おしゃれな HARIO のカフェを左手に見ながら、スウェーデン大使館が見えるまで直進し、左折すると左手にスペイン大使館があります。入り口は蔦が生い茂っていて、少し見えにくくなっていますが、門をくぐると、直ぐにセキュリティの方が話しかけてくれます。
スペイン留学をした友人が、朝イチで行かないととても混むという情報をくれたのですが、早起きすることもできず、10 時過ぎころに到着したと思います。ですが、思ったよりも混んでおらず、10 分も待たないうちに自分の番が来ました。おそらく、夏休みなどのピークのとき以外は、意外と空いているようです。以後、夏休み以外の季節に 2 回訪れましたが、いずれも、15 分以上は待たされませんでした。
窓口では持ってきた書類を出し、窓口の人が確認し、お金を払うという簡単なものです。ですが、二つ指摘を受けました。一つ言われたのが、計画書が仕事メインすぎるということ。「働きすぎると違法就労に当たりますから気をつけてください」と釘を刺されました 😅 もう一つは、完全なミス。医者の診断書の日付をもらい忘れたので、もう一度医者に行って、書いてもらって、上から病院印を押して郵送してくれとのこと。これは完全に余計な手間を増やしてしまい、痛恨のミスでした。日付はお忘れなく。
後は待つ パスポートも取り上げられ、窓口では、「8 週間後には準備できています。メールが来たらまた出頭してください」と言われました。Twitter などを漁ってみると、意外と早く来ただとか、４週間もせずに準備ができたなどの情報もあったので、のんきに一ヶ月位でメールが来るだろうと高をくくっていました。ですが&amp;hellip;
来ない。 一ヶ月経っても来ない。まぁ８週間って言ってたし、とりあえずそれまで待ってみる。ですが、7 週間目の月曜日になっても、一向に連絡が来る気配がなし。フライトが３週間後程に迫ってきていたので、こちらも少し心配になり、電話をしてみることにしました。水曜日に電話をしたんですが、自動音声ガイダンスに従って、領事部に連絡を入れようとしても、混み合っているとのことで一向に繋がらない。数分おいて再びトライしても、繋がらない。最終的に夕方まで待ってみると、繋がりました。でも、自動音声ガイダンスも 3 回目だったので、適当に番号を打っていたので、もしかすると違う部署にかけてしまってたかもしれません😅 だから繋がったのかな… とりあえず、事情を説明してみると、「8 週間待って下さいって言われたんですよね？だったら 8 週間待ってから電話して下さい。」と取り合ってもくれませんでした。出国の 1 週間前くらいになったら、状況を確認してくれると言われました。僕のパスポートを持ってるわけだし、もう少し丁寧に対応してほしいと思う反面、お役所なんてそんなもんだよね、と諦めました。
でも気になるので、大使館に行ってみた でも、8 週間を過ぎた月曜日、ちょうど仕事もなかったので、六本木の大使館に行ってみました。スペイン留学をした友人が、学生ビザに関しても、全然連絡が来なかったので、試しに問い合わせてみたら、もう準備はできていて、連絡が行ってなかっただけということがあったと言っていたので、少しそのケースを期待していました。ですが、電話のときと同じく、連絡が行っていないのは準備ができていないからだと言われてしまいました。他に言われたのは、
一人ずつ状況を確認してあげることはできない 9 月は留学ビザのピークなので、出国当日に準備できるなんてケースもあるくらい忙しい 8 週間とは言ったものの、それはあくまで目安。もっとかかるかもしれない 出国 1 週間前とかになったら、もう一度問い合わせてくれとのこと この様に、わざわざ六本木に行っても、あまり掛け合ってはくれませんでした。
8.5 週間でやっと発給された 門前払いを食らってしまった 2 日後、やっとビザが発給されたとのメールが来ました。果たして 2 回も問い合わせたことに意味があったのかはわかりませんが、とりあえず無事にパスポートを取り返すことができてよかったです。</description>
            <content type="html"><![CDATA[<p>ちょうどフリーランスエンジニアとして、東京でも少しずつ自信がついてきたので、いっそのことどこかに移住してトライして見よう。ということで、バルセロナに引っ越すことにしました。</p>
<h2 id="下準備">下準備</h2>
<p>8 月に大学を卒業するので、準備期間なども含めて、9 月の下旬に飛び立つことを決定。大使館 HP にも書いてあるように、ワーホリビザには、事前に航空券を買っておく必要があります。なので、適当に 9 月頃の一番安いチケットをスカイスキャナーで探し、購入。他にも、行動の計画表や、外国人番号の登録申請書など、とりあえず HP に書けと言われているものはすべて書く。</p>
<p>予定表は、何をどれくらい詳しく書けば良いのかもわからなかったので、本当にざっくりと書きました。一応欄は 10 個くらいあるのですが、私は、</p>
<ul>
<li>9~12 月、仕事。</li>
<li>年末年始あたり、旅行。</li>
<li>2 月以降、仕事。</li>
</ul>
<p>という、仕事する気満々の予定を書きました。これの是非については、また後ほど。</p>
<h2 id="ビザ申請に行った">ビザ申請に行った。</h2>
<p>7 月の初旬、当時住んでいた秋田県から東京に帰郷し、六本木一丁目駅の近くにあるスペイン大使館までビザの申請をしに行きました。まず、トリッキーなのが、六本木一丁目の駅の構造。後ほど話すように、3 回訪れて気づいたのは、地下鉄の出口の目の前にある外にあるエスカレーターをまっすぐ上に上がって、おしゃれな HARIO のカフェを左手に見ながら、スウェーデン大使館が見えるまで直進し、左折すると左手にスペイン大使館があります。入り口は蔦が生い茂っていて、少し見えにくくなっていますが、門をくぐると、直ぐにセキュリティの方が話しかけてくれます。</p>
<p>スペイン留学をした友人が、朝イチで行かないととても混むという情報をくれたのですが、早起きすることもできず、10 時過ぎころに到着したと思います。ですが、思ったよりも混んでおらず、10 分も待たないうちに自分の番が来ました。おそらく、夏休みなどのピークのとき以外は、意外と空いているようです。以後、夏休み以外の季節に 2 回訪れましたが、いずれも、15 分以上は待たされませんでした。</p>
<p>窓口では持ってきた書類を出し、窓口の人が確認し、お金を払うという簡単なものです。ですが、二つ指摘を受けました。一つ言われたのが、計画書が仕事メインすぎるということ。「働きすぎると違法就労に当たりますから気をつけてください」と釘を刺されました 😅 もう一つは、完全なミス。医者の診断書の日付をもらい忘れたので、もう一度医者に行って、書いてもらって、上から病院印を押して郵送してくれとのこと。これは完全に余計な手間を増やしてしまい、痛恨のミスでした。日付はお忘れなく。</p>
<h2 id="後は待つ">後は待つ</h2>
<p>パスポートも取り上げられ、窓口では、「8 週間後には準備できています。メールが来たらまた出頭してください」と言われました。Twitter などを漁ってみると、意外と早く来ただとか、４週間もせずに準備ができたなどの情報もあったので、のんきに一ヶ月位でメールが来るだろうと高をくくっていました。ですが&hellip;</p>
<h2 id="来ない">来ない。</h2>
<p>一ヶ月経っても来ない。まぁ８週間って言ってたし、とりあえずそれまで待ってみる。ですが、7 週間目の月曜日になっても、一向に連絡が来る気配がなし。フライトが３週間後程に迫ってきていたので、こちらも少し心配になり、電話をしてみることにしました。水曜日に電話をしたんですが、自動音声ガイダンスに従って、領事部に連絡を入れようとしても、混み合っているとのことで一向に繋がらない。数分おいて再びトライしても、繋がらない。最終的に夕方まで待ってみると、繋がりました。でも、自動音声ガイダンスも 3 回目だったので、適当に番号を打っていたので、もしかすると違う部署にかけてしまってたかもしれません😅 だから繋がったのかな… とりあえず、事情を説明してみると、「8 週間待って下さいって言われたんですよね？だったら 8 週間待ってから電話して下さい。」と取り合ってもくれませんでした。出国の 1 週間前くらいになったら、状況を確認してくれると言われました。僕のパスポートを持ってるわけだし、もう少し丁寧に対応してほしいと思う反面、お役所なんてそんなもんだよね、と諦めました。</p>
<h2 id="でも気になるので大使館に行ってみた">でも気になるので、大使館に行ってみた</h2>
<p>でも、8 週間を過ぎた月曜日、ちょうど仕事もなかったので、六本木の大使館に行ってみました。スペイン留学をした友人が、学生ビザに関しても、全然連絡が来なかったので、試しに問い合わせてみたら、もう準備はできていて、連絡が行ってなかっただけということがあったと言っていたので、少しそのケースを期待していました。ですが、電話のときと同じく、連絡が行っていないのは準備ができていないからだと言われてしまいました。他に言われたのは、</p>
<ul>
<li>一人ずつ状況を確認してあげることはできない</li>
<li>9 月は留学ビザのピークなので、出国当日に準備できるなんてケースもあるくらい忙しい</li>
<li>8 週間とは言ったものの、それはあくまで目安。もっとかかるかもしれない</li>
<li>出国 1 週間前とかになったら、もう一度問い合わせてくれとのこと</li>
</ul>
<p>この様に、わざわざ六本木に行っても、あまり掛け合ってはくれませんでした。</p>
<h2 id="85-週間でやっと発給された">8.5 週間でやっと発給された</h2>
<p>門前払いを食らってしまった 2 日後、やっとビザが発給されたとのメールが来ました。果たして 2 回も問い合わせたことに意味があったのかはわかりませんが、とりあえず無事にパスポートを取り返すことができてよかったです。</p>
<h2 id="最後に">最後に</h2>
<p>以上が私が個人的に経験したスペインのワーキングホリデービザを取得するまでの道のりでした。
しっかりと時間に余裕を持って申請することが大切ですね。言われた時間よりも長くかかるとはネットの情報からするとあまり考えていなかったので、かなり日にちに余裕を持った飛行機のチケットを買っておいてよかったです。</p>
]]></content>
        </item>
        
        <item>
            <title>Rails Github Action exits with code 16</title>
            <link>https://ryuichirosuzuki.com/posts/rails-github-action-exit-with-code-16/</link>
            <pubDate>Sun, 18 Sep 2022 16:16:33 +0900</pubDate>
            
            <guid>https://ryuichirosuzuki.com/posts/rails-github-action-exit-with-code-16/</guid>
            <description>The issue I have a Rails application that runs on Ruby alpine image. When I was running github actions workflow, it threw an error when installing gems. The workflow file is basically the copy of the official Ruby on Rails CI template, which you can easily find from Github Actions tab on any repo. When it hits the point where installing gems using bundle install, it stops with
Error: The process &amp;#39;/opt/hostedtoolcache/Ruby/3.</description>
            <content type="html"><![CDATA[<h1 id="the-issue">The issue</h1>
<p>I have a Rails application that runs on Ruby alpine image. When I was running github actions workflow, it threw an error when installing gems.
The workflow file is basically the copy of the official Ruby on Rails CI template, which you can easily find from Github Actions tab on any repo.
When it hits the point where installing gems using <code>bundle install</code>, it stops with</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>Error: The process <span style="color:#e6db74">&#39;/opt/hostedtoolcache/Ruby/3.1.2/x64/bin/bundle&#39;</span> failed with exit code <span style="color:#ae81ff">16</span>
</span></span></code></pre></div><h2 id="the-workflow">The workflow</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e"># This workflow uses actions that are not certified by GitHub.  They are</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># provided by a third-party and are governed by separate terms of service,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># privacy policy, and support documentation.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># This workflow will install a prebuilt Ruby version, install dependencies, and</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># run tests and linters.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;Ruby on Rails CI&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">on</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">push</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">branches</span>: [<span style="color:#e6db74">&#34;main&#34;</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">pull_request</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">branches</span>: [<span style="color:#e6db74">&#34;main&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#f92672">jobs</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">test</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">runs-on</span>: <span style="color:#ae81ff">ubuntu-latest</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">postgres</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">image</span>: <span style="color:#ae81ff">postgres:13.2-alpine</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#e6db74">&#34;5432:5432&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">env</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">POSTGRES_PASSWORD</span>: <span style="color:#ae81ff">password</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">env</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">RAILS_ENV</span>: <span style="color:#ae81ff">test</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">DATABASE_URL</span>: <span style="color:#e6db74">&#34;postgres://postgres:password@localhost:5432&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">steps</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Checkout code</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">actions/checkout@v3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Add or replace dependency steps here</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Install Ruby and gems</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">uses</span>: <span style="color:#ae81ff">ruby/setup-ruby@0a29871fe2b0200a17a4497bae54fe5df0d973aa</span> <span style="color:#75715e"># v1.115.3</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">with</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">bundler-cache</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Add or replace database setup steps here</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Set up database schema</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">run</span>: <span style="color:#ae81ff">bin/rails db:schema:load</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e"># Add or replace test runners here</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Run tests</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">run</span>: <span style="color:#ae81ff">bin/rspec</span>
</span></span></code></pre></div><h1 id="the-fix">The fix</h1>
<p>Simply, I had to run</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>bundle lock --add-platform x86_64-linux
</span></span></code></pre></div><p>on my local machine. Ofc, like me, if you are developing the app on a docker container, add docker stuff before the command.
The reason being is that the workflow is running on Ubuntu, instead of Alpine like my local container.</p>
]]></content>
        </item>
        
        <item>
            <title>Alpine Ruby: Can&#39;t load nokogiri</title>
            <link>https://ryuichirosuzuki.com/posts/alpine-ruby-nokogiri-issue/</link>
            <pubDate>Sun, 18 Sep 2022 15:41:36 +0900</pubDate>
            
            <guid>https://ryuichirosuzuki.com/posts/alpine-ruby-nokogiri-issue/</guid>
            <description>The issue I was doing practice of Github workflow by making a basic task app using Rails
I was using
ruby:3.1.2-alpine3.14 (for the base image) Rails 7.0.4 Initially, everything was going smoothly but once I shut down the computer one day and came to work on it again, I started getting error from Nokogiri every time I try to bundle install in the container.
Gem::Ext::BuildError: ERROR: Failed to build gem native extension.</description>
            <content type="html"><![CDATA[<h1 id="the-issue">The issue</h1>
<p>I was doing practice of Github workflow by making a basic task app using Rails</p>
<p>I was using</p>
<ul>
<li>ruby:3.1.2-alpine3.14 (for the base image)</li>
<li>Rails 7.0.4</li>
</ul>
<p>Initially, everything was going smoothly but once I shut down the computer one day and came to work on it again, I started getting error from Nokogiri every time I try to <code>bundle install</code> in the container.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>Gem::Ext::BuildError: ERROR: Failed to build gem native extension.
</span></span></code></pre></div><h1 id="the-fix">The fix</h1>
<p>I&rsquo;ve tried a few things but the one solved the problem was adding</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#66d9ef">RUN</span> apk add --no-cache libc6-compat <span style="color:#f92672">&amp;&amp;</span> ln -s /lib/libc.musl-x86_64.so.1 /lib/ld-linux-x86-64.so.2<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>to the Dockerfile that builds the image for ruby.</p>
<p>I came to this idea in through the following steps</p>
<p>I started the container and in the shell, I simply ran</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>gem install nokogiri
</span></span></code></pre></div><p>which worked</p>
<p>Then, in <code>irb</code>, I tried to require <code>nokogiri</code>.
Which threw an error like</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#66d9ef">Error</span> loading shared library ld<span style="color:#f92672">-</span>linux<span style="color:#f92672">-</span>x86<span style="color:#f92672">-</span><span style="color:#ae81ff">64</span><span style="color:#f92672">.</span>so<span style="color:#f92672">.</span><span style="color:#ae81ff">2</span>: <span style="color:#66d9ef">No</span> such file <span style="color:#f92672">or</span> directory
</span></span></code></pre></div><p>When I googled, I hit on this <a href="https://qiita.com/hiko1129/items/5f1914d01b7ee3713b62">Qiita article</a>, which said to run the command above.</p>
<p>It seems that it is based off of the <a href="https://stackoverflow.com/questions/50288034/unsatisfiedlinkerror-tmp-snappy-1-1-4-libsnappyjava-so-error-loading-shared-li">stackoverflow article</a> but tbh, I have no idea why it did the fix.</p>
<p>I&rsquo;m just noting here so that someone who might have a similar problem can fix it. Or, future me might benefit from it once I remake the Dockerfile for another practice run 😅</p>
]]></content>
        </item>
        
    </channel>
</rss>
